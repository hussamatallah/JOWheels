@model JOWheels.Models.Car

@{
    ViewData["Title"] = "Car Details";
    Layout = "~/Views/Shared/_UserLayout.cshtml";

    // Cast the ViewBag.Gallary to List<JOWheels.Models.ImageGallary> before using it
    var galleryList = ViewBag.Gallary as List<JOWheels.Models.ImageGallary>;

    // Check if galleryList is not null and has any items
    var firstImage = galleryList?.FirstOrDefault();
}


<style>
    #slider-img {
        height: 500px;
        width: 250px;
    }

    #slider-item{
        height: 100%;
        object-fit: cover;
    }

    #callBtn {
        padding: 8px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 8px;
        outline: none;
        letter-spacing: 1.5px;
    }

    #callBtn {
        background-color: #007A3D;
        color: #fff;
        transition: 0.3s;
    }

        #callBtn:hover {
            background-color: #005c29;
        }
</style>


<!-- Details Section Start -->
<section id="features" class="features section">
    <div class="container">

        <!-- Slider -->
        <div id="carImageCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                @foreach (var item in galleryList)
                {
                    <div id="slider-item" class="carousel-item @(item == firstImage ? "active" : "")">
                        <img id="slider-img" src="~/Photos/Gallary/@item.ImageURL" class="d-block w-100" alt="Car Image">
                    </div>
                }
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carImageCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carImageCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <!-- Information Section -->
        <div class="row mt-5">
            <div class="col-lg-12 text-center">
                <h3>@Model.Title</h3>
                <h4>Prise: <span>@Model.Price</span></h4>
                <label>Call Now :</label>
                <input id="callBtn" type="button" value="@Model.Entity.PhoneNumber" class="btn" />



            </div>
        </div>

        <!-- Striped Table -->
        <div class="row mt-4">
            <div class="col-lg-12">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">Ad details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Entity</td>
                            <td>@Model.Entity.Name</td>
                        </tr>
                        <tr>
                            <td>Brand</td>
                            <td>@Model.Brand.Name</td>
                        </tr>
                        <tr>
                            <td>Body</td>
                            <td>@Model.Body.Name</td>
                        </tr>
                        <tr>
                            <td>Transmission</td>
                            <td>@Model.Transmission.Type</td>
                        </tr>
                        <tr>
                            <td>Fule</td>
                            <td>@Model.Fule.Type</td>
                        </tr>
                        <tr>
                            <td>Color</td>
                            <td>@Model.Color.Name</td>
                        </tr>
                        <tr>
                            <td>Seat</td>
                            <td>@Model.Seat.Number</td>
                        </tr>
                        <tr>
                            <td>Condition</td>
                            <td>@Model.Condition.State</td>
                        </tr>
                        <tr>
                            <td>Mileage</td>
                            <td>@Model.Mileage.Mile</td>
                        </tr>
                        <tr>
                            <td>Custom</td>
                            <td>@Model.Custom.State</td>
                        </tr>
                        <tr>
                            <td>License</td>
                            <td>@Model.License.State</td>
                        </tr>
                        <tr>
                            <td>Insurance</td>
                            <td>@Model.Insurance.Type</td>
                        </tr>
                        <tr>
                            <td>Payment</td>
                            <td>@Model.Payment.Type</td>
                        </tr>
                        <tr>
                            <td>Year</td>
                            <td>@Model.Body.Name</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Description Section -->
        <div class="row mt-5">
            <div class="col-lg-12 text-center">
                <h4>Description</h4>
                <p class="fst-italic" style="border:3px solid black">@Model.Description</p>
            </div>
        </div>

    </div>
</section>
<!-- Details Section End -->
